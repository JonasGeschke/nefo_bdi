---
title: "Analyse der NeFo-GEOEssential-Umfrage zur Biodiversitätsdatenintegration"
date: "2018"
header-includes:
   - \usepackage{longtable}
output:
  pdf_document:
    toc: yes
  documentclass: article
  html_document:
    toc: yes
  classoption: a4paper
  graphics: yes
---

# Einleitung
Dieses ist das Skript der Analyse der NeFo-GEOEssential-Umfrage zur Biodiversitätsdatenintegration. Das Skrpit ist verfügbar unter https://github.com/JonasGeschke/nefo_bdi


# Einstellungen

```{r set wd - CHOOSE, eval=FALSE}
# If your working directory is not already specified because you are running this
# script within a project, you will need to use the setwd() function below to set
# the path of your working directory. In order to do this just copy the path
# between the quote signs.
# Please note: The different levels of the path need to be separated by slashes
# ("/"), not by backslashes ("\") which are the windows default.
# 
# setwd("")

setwd("U:/Workshops_orga/Biodiv_Datenintegration/Umfrage/R") # Jonas
```

```{r install packages, eval=FALSE}
# Installing required packages if not installed yet
if("xlsx" %in% rownames(installed.packages())   == FALSE){
  install.packages("xlsx")}
```

```{r set additional functions, eval=FALSE}
'%!in%' <- function(x,y)!('%in%'(x,y))
```


# Analyse

```{r Laden der Rohdaten und Vorbereitung der Daten, eval=FALSE}
## Load raw data
Raw_deutsch <- read.csv2(file = "Daten/umfrage_zur_biodiversitatsdatenintegration_in_deutschland.csv", 
                         header = F, sep = ";", fileEncoding = "UTF8", )
Raw_englisch <- read.csv2(file = "Daten/questionnaire_on_integration_of_biodiversity_data_in_germany.csv", 
                          header = F, sep = ";", fileEncoding = "UTF8")

gesamt <- rbind(Raw_deutsch[-which(Raw_deutsch$V9 == "nefo"),], Raw_englisch[-c(1:3, which(Raw_englisch$V9 == "nefo")),])
gesamt <- gesamt[-c(1:3),-c(1:9)]

Q1_1 <- gesamt[,c(1:5)]
names(Q1_1) <- c("Datenbereitstellung", "Datenaufbereitung", "Datenverschmelzung", "anderes", "Info")
xlsx::write.xlsx(Q1_1, file = "Q1_1.xls")

Q1_2 <- gesamt[,6]
xlsx::write.xlsx(Q1_2, file = "Q1_2.xls")

Q1_3 <- gesamt[,7]
xlsx::write.xlsx(Q1_3, file = "Q1_3.xls")

Q1_4 <- gesamt[,c(8:10)]
names(Q1_4) <- c("a", "b", "c")
xlsx::write.xlsx(Q1_4, file = "Q1_4.xls")

Q1_5 <- gesamt[,c(11:13)]
names(Q1_5) <- c("a", "b", "c")
xlsx::write.xlsx(Q1_5, file = "Q1_5.xls")

Q1_6 <- gesamt[,c(14:16)]
names(Q1_6) <- c("a", "b", "c")
xlsx::write.xlsx(Q1_6, file = "Q1_6.xls")

Q2_1 <- gesamt[,17]
Q2_1[which(Q2_1 == "Yes")] <- "Ja"
Q2_1[which(Q2_1 == "No")] <- "Nein"
xlsx::write.xlsx(Q2_1, file = "Q2_1.xls")

```


